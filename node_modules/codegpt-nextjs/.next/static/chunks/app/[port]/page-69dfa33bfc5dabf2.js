(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5926:function(e,a,t){Promise.resolve().then(t.bind(t,77111)),Promise.resolve().then(t.bind(t,32601))},77111:function(e,a,t){"use strict";t.d(a,{default:function(){return eX}});var s=t(57437),n=t(63996),l=t(92992),i=t(16463),o=t(29039);let r=async e=>{let{provider:a,port:t}=e;return new Promise(async e=>{setTimeout(async()=>{let s={maxTokens:1500,temperature:.3,windowMemory:6},n=await fetch("".concat(t,"/api/").concat(a,"/config")).then(e=>e.json()).catch(()=>s);e({...s,...n})},500)})};function c(){let e=(0,l.Y)(e=>e.selectedProvider),a=(0,i.usePathname)().split("/")[1],{data:t,mutate:s,isLoading:n,isValidating:c}=(0,o.ZP)("/api/agents/".concat(e,"/config"),()=>r({provider:e,port:a}),{shouldRetryOnError:!1,errorRetryCount:0,revalidateOnFocus:!1,refreshInterval:0});return{configuration:t,isLoading:null!=n?n:c,mutate:()=>new Promise(e=>{setTimeout(()=>{s().then(a=>{e(a)})},300)})}}var d=t(39099);let m=(0,d.Ue)(e=>({isOpen:!1,setOpen:a=>e(()=>({isOpen:a}))}));var u=t(77439),p=t(43107),h=t(74934),g=t(88068),x=t(95256),v=t(81887),f=t(59856),b=t(51531),j=t(47971),k=t(42126),y=t(37393),N=t(38919);let w=window.location.pathname.split("/")[1];var C={codegptplus:{name:"CodeGPT Plus (legacy)",oAuthLogin:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{color:"primary",variant:"bordered",onClick:async()=>{await (0,p.Yo)("https://account.codegpt.co/external-signin"),e(!1)},children:"Connect to CodeGPT Plus (legacy)"}),(0,s.jsx)(N.j,{})]}),apikey:!0,apikey_placeholder:"CodeGPT Plus (legacy) ApiKey",connection_info_link:[{label:"Read more about CodeGPT Plus (legacy) apikey",link:"https://plus.codegpt.co/settings/apikey"}],max_tokens:!0,temperature:!0},codegptplusbeta:{name:"CodeGPT Plus",oAuthLogin:e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 content-stretch items-center justify-center gap-2",children:[(0,s.jsx)(y.A,{color:"primary",fullWidth:!0,onPress:async()=>{await (0,p.Yo)("https://app.codegpt.co/signup?source=vscode"),e(!1)},children:"Sign Up"}),(0,s.jsx)(y.A,{variant:"bordered",fullWidth:!0,className:"border",onPress:async()=>{await (0,p.Yo)("http://localhost:54112/".concat(w,"/login")),e(!1)},children:"Sign In"})]})}),apikey:!0,apikey_placeholder:"CodeGPT Plus ApiKey",org:!0,connection_info_link:[{label:"Read more about CodeGPT Plus apikey",link:"https://app.codegpt.co/en/apikeys"}],max_tokens:!0,temperature:!0},codegptenterprise:{name:"CodeGPT Enterprise",apikey:!0,apikey_placeholder:"CodeGPT Enterprise ApiKey",org:!0,connection_info_link:[{label:"Read more about CodeGPT Plus apikey",link:"https://app.codegpt.co/en/apikeys"}],customLink:!0,customLink_placeholder:"Custom Link (https://{API URL}/api/v1)",max_tokens:!0,temperature:!0},openai:{name:"OpenAI",apikey:!0,org:!0,connection_info_link:[{label:"Read more about OpenAI apikey",link:"https://platform.openai.com/api-keys"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about OpenAI config",link:"https://platform.openai.com/docs/api-reference/chat/create"}]},azure:{name:"Azure",apikey:!0,customLink:!0,connection_info_link:[{label:"Read more about Azure apikey",link:"https://learn.microsoft.com/en-us/azure/ai-services/openai/reference"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about Azure (OpenAI) config",link:"https://learn.microsoft.com/en-us/azure/ai-services/openai/reference#chat-completions"}]},cohere:{name:"Cohere",apikey:!0,connection_info_link:[{label:"Read more about Cohere apikey",link:"https://dashboard.cohere.com/api-keys"}],temperature:!0,config_info_link:[{label:"Read more about Cohere config",link:"https://docs.cohere.com/docs/cochat-beta#define-the-model-settings"}]},anthropic:{name:"Anthropic",apikey:!0,connection_info_link:[{label:"Read more about Anthropic apikey",link:"https://console.anthropic.com/login"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about Anthropic config",link:"https://docs.anthropic.com/claude/reference/messages_post"}]},googleaistudio:{name:"Google AI Studio",apikey:!0,apikey_placeholder:"ApiKey (Google-AI-Studio models)",connection_info_link:[{label:"Read more about Google-Ai-Studio",link:"https://makersuite.google.com/app/apikey"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about Google-Ai-Studio config",link:"https://ai.google.dev/docs/gemini_api_overview"}]},vertex:{name:"Vertex",customLink:!0,customLink_placeholder:"Custom Link (Vertex models)",oAuthFile:!0,oAuthFile_placeholder:'Upload JSON file ↑ (Vertex "apikey" (credentials.json))',connection_info_link:[{label:"Read more about Vertex credentials",link:"https://developers.google.com/workspace/guides/create-credentials"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about Vertex config",link:"https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/gemini?hl=es-419#request_body"}]},ollama:{name:"Ollama",disableConnection:!0},fireworksai:{name:"FireworksAI",apikey:!0,connection_info_link:[{label:"Read more about FireworksAI apikey",link:"https://app.fireworks.ai/users?tab=apps"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about FireworksAI config",link:"https://readme.fireworks.ai/reference/createchatcompletion"}]},mistral:{name:"Mistral",apikey:!0,connection_info_link:[{label:"Read more about Mistral apikey",link:"https://console.mistral.ai/user/api-keys/"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about Mistral config",link:"https://docs.mistral.ai/api"}]},huggingface:{name:"HuggingFace",apikey:!0,connection_info_link:[{label:"Read more about HuggingFace apikey",link:"https://huggingface.co/settings/tokens"}],max_tokens:!0,temperature:!0,config_info_link:[{label:"Read more about HuggingFace config",link:"https://huggingface.co/docs/api-inference/detailed_parameters?code=js"}]},custom:{name:"Custom",apikey:!0,customLink:!0,max_tokens:!0,temperature:!0},bedrock:{name:"Bedrock",region:!0,access_key_id:!0,secret_access_key:!0,max_tokens:!0,temperature:!0,connection_info_link:[{label:"Read more about Bedrock connection info",link:"https://aws.amazon.com/bedrock/"}]},perplexity:{name:"Perplexity",apikey:!0,max_tokens:!0,temperature:!0,connection_info_link:[{label:"Read more about Perplexity apikey",link:"https://docs.perplexity.ai/reference/post_chat_completions"}]},lmstudio:{name:"LM Studio",max_tokens:!0,temperature:!0,disableConnection:!0},groq:{name:"Groq",apikey:!0,connection_info_link:[{label:"Read more about Groq apikey",link:"https://wow.groq.com/"}],max_tokens:!0,temperature:!0},nvidia:{name:"Nvidia",apikey:!0,connection_info_link:[{label:"Read more about Nvidia apikey",link:"https://build.nvidia.com/"}],max_tokens:!0,temperature:!0}};function P(){let{configuration:e,mutate:a}=c(),t=(0,i.usePathname)().split("/")[1],o=null==e?void 0:e.maxTokens,r=null==e?void 0:e.temperature,d=null==e?void 0:e.windowMemory,{isOpen:y,setOpen:N}=m(),w=(0,l.Y)(e=>e.selectedProvider),P=C[w],A=async(e,s)=>{(0,u.q)({eventName:"changeValue",target:s,value:e.toString()}),await k.Z.post("/".concat(t,"/api/actions"),{action:"set".concat(s),value:e}),a()};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.R,{isOpen:y,placement:"top",scrollBehavior:"inside",classNames:{closeButton:"bg-white/5 active:bg-white/10 h-10 w-10 p-0 flex items-center justify-center rounded-full absolute top-3 right-6"},onOpenChange:async()=>{a(),N(!1)},children:(0,s.jsx)(g.A,{children:()=>{var e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.k,{className:"flex flex-row items-center gap-4 font-normal",children:[(0,s.jsx)("div",{className:"size-fit",children:(0,s.jsx)(n.T,{provider:w,width:40,height:40,className:"rounded-lg border"})}),(0,s.jsxs)("div",{className:"flex select-none flex-col",children:[(0,s.jsxs)("span",{className:"pt-1",children:[P.name," Settings"]}),(0,s.jsx)("span",{className:"text-small text-default-500",children:"Ensure to properly configure your providers parameters here"})]})]}),(0,s.jsx)(v.I,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Y,{defaultValue:null==d?void 0:d.toString(),onValueChange:e=>A(Number(e),"WindowMemory"),"aria-label":"windowMemory",classNames:{inputWrapper:"bg-default-100",input:"text-md"},labelPlacement:"inside",label:"Window Memory (number of messages)",type:"number"}),P.max_tokens&&(0,s.jsx)(b.L,{color:"primary",maxValue:6e3,minValue:150,step:10,defaultValue:o,onChangeEnd:e=>A(Number(e),"MaxTokens"),label:"Max Tokens","aria-label":"Max Tokens",className:"max-w-md"}),P.temperature&&(0,s.jsx)(b.L,{color:"primary",maxValue:1,minValue:0,step:.01,defaultValue:r,onChangeEnd:e=>A(Number(e),"Temperature"),label:"Temperature","aria-label":"Temperature",className:"max-w-md"})]})}),(0,s.jsx)(j.R,{className:"justify-start",children:(0,s.jsx)("p",{className:"flex flex-col text-small text-default-500",children:null===(e=P.config_info_link)||void 0===e?void 0:e.map((e,a)=>(0,s.jsx)("span",{children:e.label&&(0,s.jsx)("a",{className:"text-primary-500 hover:underline",href:e.link,target:"_blank",rel:"noreferrer",onClick:()=>(0,p.Yo)(e.link),children:e.label})},a))})})]})}})})})}var A=t(2193),_=t(51582),T=t(69992),z=t(52985),M=t(47193),O=t(47713),I=t(64954),S=t(68760),Z=t(69012),R=t(38227),L=t(2265),V=t(38746),F=t(27776);function G(){let{isOpen:e,setOpen:a}=(0,_.U)(),t=(0,i.usePathname)().split("/")[1],[o,r]=(0,L.useState)(""),[c,d]=(0,L.useState)(""),[m,u]=(0,L.useState)(""),[b,N]=(0,L.useState)(""),[w,P]=(0,L.useState)(""),[G,E]=(0,L.useState)(""),[D,K]=(0,L.useState)(!1),{isConnected:Y,mutate:q}=(0,A.T)(),U=async e=>{let a=e[0];if("json"!==a.name.split(".").pop()){F.A.error("File type not supported",{position:"top-center"});return}try{let e=await a.text();(await fetch("/".concat(t,"/api/actions"),{method:"POST",body:JSON.stringify({action:"setGoogleOauth",value:e})})).ok?F.A.success("File uploaded",{position:"top-center"}):F.A.error("Error uploading file",{position:"top-center"})}catch(e){F.A.error("Error processing json")}},{getRootProps:W,getInputProps:B}=(0,V.uI)({onDrop:U,multiple:!1,useFsAccessApi:!1}),H=(0,l.Y)(e=>e.selectedProvider),J=C[H],X=(0,L.useCallback)(async()=>{await Promise.all([o?k.Z.post("/".concat(t,"/api/actions"),{action:"setApiKey",value:o}).then(()=>r("")):null,c?k.Z.post("/".concat(t,"/api/actions"),{action:"setOrgId",value:c}).then(()=>d("")):null,m?k.Z.post("/".concat(t,"/api/actions"),{action:"setCustomLink",value:m}).then(()=>u("")):null,b?k.Z.post("/".concat(t,"/api/actions"),{action:"setRegion",value:b}).then(()=>N("")):null,w?k.Z.post("/".concat(t,"/api/actions"),{action:"setAccessKeyId",value:w}).then(()=>P("")):null,G?k.Z.post("/".concat(t,"/api/actions"),{action:"setSecretAccessKey",value:G}).then(()=>E("")):null]),q(),a(!1)},[w,o,m,q,c,b,G,a]),$=()=>{J.apikey&&k.Z.post("/".concat(t,"/api/actions"),{action:"setApiKey",value:""}).then(()=>r("")),J.org&&k.Z.post("/".concat(t,"/api/actions"),{action:"setOrgId",value:""}).then(()=>d("")),J.customLink&&k.Z.post("/".concat(t,"/api/actions"),{action:"setCustomLink",value:""}).then(()=>u("")),J.region&&k.Z.post("/".concat(t,"/api/actions"),{action:"setRegion",value:""}).then(()=>N("")),J.access_key_id&&k.Z.post("/".concat(t,"/api/actions"),{action:"setAccessKeyId",value:""}).then(()=>P("")),J.secret_access_key&&k.Z.post("/".concat(t,"/api/actions"),{action:"setSecretAccessKey",value:""}).then(()=>E("")),"CodeGPT Plus"===J.name&&k.Z.post("/".concat(t,"/api/actions"),{action:"setVicunaSession",session:{accessToken:"",refreshToken:"",expiresAt:""}}),q()},Q=(e,a)=>{let t=e.target.value;if(("x"===e.key.toLowerCase()||"KeyX"===e.code)&&(e.metaKey||e.ctrlKey)&&e.target instanceof HTMLInputElement){e.preventDefault();let s=e.target,{selectionStart:n,selectionEnd:l}=s;if(null!==n&&null!==l&&n!==l){let e=s.value.substring(n,l);(0,p.zp)(e).then(()=>{let e=t.substring(0,n)+t.substring(l);"apikey"===a&&r(e),"orgid"===a&&d(e),"customlink"===a&&u(e),"region"===a&&N(e),"accesskeyid"===a&&P(e),"secretaccesskey"===a&&E(e)})}}("v"===e.key.toLowerCase()||"KeyV"===e.code)&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),(0,p.M1)().then(s=>{let{selectionStart:n,selectionEnd:l}=e.target,i=t.substring(0,null!=n?n:t.length)+s+t.substring(null!=l?l:t.length);"apikey"===a&&r(i),"orgid"===a&&d(i),"customlink"===a&&u(i),"region"===a&&N(i),"accesskeyid"===a&&P(i),"secretaccesskey"===a&&E(i)})),(0,p.gT)(e)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.R,{isOpen:e,placement:"center",scrollBehavior:"inside",onOpenChange:()=>{q(),a(!1)},children:(0,s.jsx)(g.A,{children:()=>{var e,t,l,i;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.k,{className:"flex flex-row items-center gap-4",children:[(0,s.jsx)("div",{className:"size-fit",children:(0,s.jsx)(n.T,{provider:H,width:48,height:48,className:"rounded-lg border border-default-200"})}),(0,s.jsxs)("div",{className:"flex flex-col font-normal",children:[(0,s.jsxs)("span",{className:"select-none",children:["Connect to ",J.name]}),(0,s.jsx)("span",{className:"text-small text-default-500",children:"CodeGPT Plus"!==J.name?"Before engaging with this model, ensure proper configuration or connection.":"Connect to CodeGPT Plus to use the latest features for free."})]})]}),(0,s.jsx)(v.I,{children:Y?(0,s.jsx)(y.A,{color:"danger",variant:"flat",className:"border border-danger-500/20",onPress:$,children:"CodeGPT Plus"===J.name?"Disconnect from CodeGPT Plus":"Disconnect"}):(0,s.jsxs)(s.Fragment,{children:[J.oAuthLogin&&J.oAuthLogin(a),"CodeGPT Plus"!==J.name&&(0,s.jsxs)(s.Fragment,{children:[J.apikey&&(0,s.jsx)(f.Y,{value:o,onChange:e=>r(e.target.value),onKeyDown:e=>Q(e,"apikey"),"aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},labelPlacement:"outside",placeholder:null!==(t=J.apikey_placeholder)&&void 0!==t?t:"ApiKey",startContent:(0,s.jsx)(T.Z,{className:"size-4 text-base text-default-500"}),endContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{isIconOnly:!0,size:"sm",variant:"light",color:"primary",onClick:()=>K(!D),className:"cursor-pointer",children:D?(0,s.jsx)(z.Z,{className:"size-5"}):(0,s.jsx)(M.Z,{className:"size-5"})}),(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",onClick:()=>(0,p.M1)().then(e=>r(e)),className:"cursor-pointer",children:"Paste"})]}),type:D?"text":"password",isRequired:!0}),J.org&&(0,s.jsx)(f.Y,{value:c,onChange:e=>d(e.target.value),onKeyDown:e=>Q(e,"orgid"),"aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},labelPlacement:"outside",placeholder:"Organization ID (optional)",startContent:(0,s.jsx)(O.Z,{className:"size-4 text-base text-default-500"}),endContent:(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",onClick:()=>(0,p.M1)().then(e=>d(e)),className:"cursor-pointer",children:"Paste"}),type:"search"}),J.customLink&&(0,s.jsx)(f.Y,{value:m,onChange:e=>u(e.target.value),onKeyDown:e=>Q(e,"customlink"),"aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},labelPlacement:"outside",placeholder:null!==(l=J.customLink_placeholder)&&void 0!==l?l:"Custom Link",startContent:(0,s.jsx)(I.Z,{className:"size-4 text-base text-default-500"}),endContent:(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",onClick:()=>(0,p.M1)().then(e=>u(e)),className:"cursor-pointer",children:"Paste"}),type:"search"}),J.region&&(0,s.jsx)(f.Y,{value:b,onChange:e=>N(e.target.value),onKeyDown:e=>Q(e,"region"),"aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},labelPlacement:"outside",placeholder:"Region",startContent:(0,s.jsx)(S.Z,{className:"size-4 text-base text-default-500"}),endContent:(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",onClick:()=>(0,p.M1)().then(e=>N(e)),className:"cursor-pointer",children:"Paste"}),type:"search"}),J.access_key_id&&(0,s.jsx)(f.Y,{value:w,onChange:e=>P(e.target.value),onKeyDown:e=>Q(e,"accesskeyid"),"aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},labelPlacement:"outside",placeholder:"Access Key ID",startContent:(0,s.jsx)(T.Z,{className:"size-4 text-base text-default-500"}),endContent:(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",onClick:()=>(0,p.M1)().then(e=>P(e)),className:"cursor-pointer",children:"Paste"}),type:"search"}),J.secret_access_key&&(0,s.jsx)(f.Y,{value:G,onChange:e=>E(e.target.value),onKeyDown:e=>Q(e,"secretaccesskey"),"aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},labelPlacement:"outside",placeholder:"Secret Access Key",startContent:(0,s.jsx)(T.Z,{className:"size-4 text-base text-default-500"}),endContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{isIconOnly:!0,size:"sm",variant:"light",color:"primary",onClick:()=>K(!D),className:"cursor-pointer",children:D?(0,s.jsx)(z.Z,{className:"size-5"}):(0,s.jsx)(M.Z,{className:"size-5"})}),(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",onClick:()=>(0,p.M1)().then(e=>E(e)),className:"cursor-pointer",children:"Paste"})]}),type:D?"text":"password"}),J.oAuthFile&&(0,s.jsxs)("div",{...W(),children:[(0,s.jsx)("input",{...B(),className:"hidden"}),(0,s.jsx)("div",{className:"pointer-events-none",children:(0,s.jsx)(f.Y,{value:"","aria-label":"Password",classNames:{inputWrapper:"bg-default-100",input:"text-sm"},size:"lg",placeholder:null!==(i=J.oAuthFile_placeholder)&&void 0!==i?i:"Upload JSON file ↑",startContent:(0,s.jsx)(Z.Z,{className:"size-4 text-base text-default-500"})})})]}),(0,s.jsx)(y.A,{type:"submit",color:"default",onPress:X,children:"Connect"})]})]})}),(0,s.jsx)(j.R,{className:"justify-center",children:(0,s.jsx)("p",{className:"flex flex-col text-small text-default-500",children:"CodeGPT Plus"!==J.name&&(null===(e=J.connection_info_link)||void 0===e?void 0:e.map((e,a)=>(0,s.jsx)("span",{children:e.label&&(0,s.jsx)("a",{className:"text-primary-500 hover:underline",href:e.link,target:"_blank",rel:"noreferrer",onClick:()=>(0,p.Yo)(e.link),children:e.label})},a)))})})]})}})})})}var E=t(87668),D=t(58151),K=t(82978),Y=t(4867),q=t(58128);let U=(0,d.Ue)(e=>({image:"",setImage:a=>e({image:a}),showTooltip:!1,setShowTooltip:a=>e({showTooltip:a})}));var W=t(64091),B=t(69954),H=t(50813),J=t(40022),X=t(957);function $(e){let{isLoading:a}=e,{selectedProvider:t,setSelectedProvider:n}=(0,l.Y)(),i=["codegptplusbeta","ollama"].includes(t),{userData:o}=(0,q.v)(),{mutate:r}=(0,A.T)(),c=(0,_.U)(e=>e.setOpen),{image:d,setImage:m,setShowTooltip:h}=U(),g=async e=>{let a=e[0],t=a.name.split(".").pop();if(console.log(a),console.log(t),["png","jpg","jpeg","webp"].includes("image/"+t)){F.A.error("File type not supported",{position:"top-center"});return}try{let e=await new Promise((e,t)=>{let s=new FileReader;s.readAsDataURL(a),s.onload=()=>e(s.result),s.onerror=e=>t(e)});m(e),h(!0)}catch(e){F.A.error("Error uploading file")}},x=()=>{(0,u.q)({eventName:"clickOver",target:"uploadImage"})},{getInputProps:v,open:f}=(0,V.uI)({onDrop:g,multiple:!1,useFsAccessApi:!1,noClick:!0});return i?o.loggedIn&&!o.plan.toLowerCase().includes("free")?(0,s.jsxs)(y.A,{size:"sm",isIconOnly:!0,variant:"bordered",onPress:()=>{x(),d?m(""):f()},isDisabled:a,className:"border",children:[(0,s.jsx)("input",{...v(),className:"hidden"}),d?(0,s.jsx)("div",{className:"flex size-[32px] items-center justify-center",children:(0,s.jsx)(H.J,{src:d,alt:"image",className:"h-auto w-full object-cover"})}):(0,s.jsx)(B.Z,{className:"h-4 w-4 shrink-0"})]}):(0,s.jsx)(J.e,{showArrow:!0,className:"bg-content2",content:(0,s.jsxs)("div",{className:"grid max-w-xs gap-4 px-1 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-xs font-bold uppercase",children:"Vision"}),(0,s.jsx)(R.z,{variant:"flat",size:"sm",color:"primary",startContent:(0,s.jsx)(X.Z,{className:"h-4 w-4 shrink-0 text-primary-500"}),classNames:{content:"text-primary-500"},children:"Plus"})]}),(0,s.jsx)("span",{className:"text-md text-default-500",children:"Upload an image to use as a prompt for the model. Only available in CodeGPT and Ollama model providers."}),(0,s.jsxs)("div",{className:"mt-1 flex gap-2",children:[(0,s.jsx)(y.A,{className:"w-fit",size:"sm",onPress:()=>{(0,p.Yo)("https://app.codegpt.co/en/plans"),(0,u.q)({eventName:"ads",object:"adButton",message:"Vision"})},children:"Upgrade"}),(0,s.jsx)(y.A,{variant:"bordered",className:"w-fit border",size:"sm",onPress:()=>{(0,p.Yo)("https://intercom.help/codegpt/en/articles/9250881-understanding-vision-input-models?utm_source=vscode")},children:"Learn more"})]})]}),children:(0,s.jsx)(y.A,{size:"sm",onPress:()=>{x(),"codegptplusbeta"!==t&&((0,W.$)(),n("codegptplusbeta"),r().then(()=>{c(!0)}))},variant:"bordered",isIconOnly:!0,className:"border",startContent:(0,s.jsx)(B.Z,{className:"h-4 w-4 shrink-0"})})}):null}function Q(e){let{onSubmit:a,onChange:t,value:n,isLoading:i,stop:o,append:r,clearChat:c}=e,{setSelectedProvider:d,selectedProvider:m}=(0,l.Y)();(0,L.useEffect)(()=>{let e=e=>{let a=e.data.promptType;(null==a?void 0:a.toLowerCase())==="clearchat"?c():(null==a?void 0:a.toLowerCase())==="syncprovider"?e.data.value.toLowerCase().replaceAll(" ","")!==m&&d(e.data.value.toLowerCase().replaceAll(" ","")):a&&r({role:"user",content:a},{options:{headers:{"Content-Type":"application/json",promptType:"true"}}})};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[r,c]);let u=async e=>{if("submit"===e.type||"Enter"===e.key&&!e.shiftKey){if(i)return;a(e);return}if(("x"===e.key.toLowerCase()||"KeyX"===e.code)&&(e.metaKey||e.ctrlKey)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)){e.preventDefault();let a=e.target,{selectionStart:s,selectionEnd:l}=a;if(null!==s&&null!==l&&s!==l){let e=a.value.substring(s,l);(0,p.zp)(e).then(()=>{t({target:{value:n.substring(0,s)+n.substring(l)}})})}}("v"===e.key.toLowerCase()||"KeyV"===e.code)&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),(0,p.M1)().then(a=>{let s=e.target,{selectionStart:l,selectionEnd:i}=s;t({target:{value:n.substring(0,null!=l?l:n.length)+a+n.substring(null!=i?i:n.length)}}),s.selectionStart=0,s.selectionEnd=0})),(0,p.gT)(e)};return(0,s.jsx)("div",{className:"flex w-full flex-col items-center justify-center",children:(0,s.jsx)("div",{className:"relative flex w-full max-w-xl flex-col items-center",children:(0,s.jsx)("form",{className:"w-full",onSubmit:u,children:(0,s.jsx)(K.Y,{placeholder:"Type your message here...",autoFocus:!0,value:n,minRows:1,maxRows:6,variant:"bordered",onChange:t,onKeyDown:u,className:"h-fit w-full resize-none overflow-y-auto",classNames:{base:"h-full min-h-[5rem]",inputWrapper:["focus:border-default-500","focus-within:border-default-500","dark:focus:border-default-500","dark:focus-within:border-default-500","border-1 shadow-none"],input:"py-2.5 text-foreground w-full min-h-[3rem] max-h-[10rem] transition-all",innerWrapper:"w-full grid gap-2"},endContent:(0,s.jsxs)("div",{className:"mt-auto flex w-full justify-between gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(y.A,{size:"sm",onPress:()=>c(),className:"border text-default-500",variant:"bordered",startContent:(0,s.jsx)(Y.mTE,{className:"h-4 w-4 shrink-0"}),children:"Clear"})}),(0,s.jsx)("div",{className:"flex gap-2",children:i?i&&(0,s.jsx)(y.A,{size:"sm",color:"danger",variant:"flat",className:"w-fit",isDisabled:!i,onClick:async()=>o(),startContent:(0,s.jsx)(D.Z,{className:"h-4 w-4 shrink-0"}),children:"Stop"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($,{isLoading:i}),(0,s.jsx)(y.A,{size:"sm",color:""===n?"default":"primary",type:i?"button":"submit",isDisabled:i||!n,startContent:(0,s.jsx)(E.Z,{className:"h-4 w-4 shrink-0"}),children:"Send"})]})})]})})})})})}var ee=t(53898);let ea=async e=>{let{provider:a,port:t}=e;try{let e=await k.Z.get("".concat(t,"/api/").concat(a));return e.data?{...e.data}:{agents:[],marketplace:[]}}catch(e){return{agents:[],marketplace:[]}}};var et=t(27701);let es=[{id:"CodeGPT Plus Beta",name:"CodeGPT Plus",link:"codegptplusbeta",agents:!0,models:["gpt-3.5-turbo","GPT-4"],autocompleteModels:["Plus"]},{name:"OpenAI",link:"openai",editable:!0,models:["gpt-3.5-turbo","gpt-4","gpt-4-1106-preview","gpt-4-32k","gpt-3.5-turbo-16k"],autocompleteModels:["gpt-3.5-turbo-instruct"]},{name:"Azure",link:"azure",editable:!0,models:["Azure"]},{name:"Anthropic",link:"anthropic",editable:!0,models:["claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307","claude-2.1","claude-2.0","claude-instant-1.2"],autocompleteModels:["claude-2","claude-instant-1"]},{name:"Nvidia",link:"nvidia",editable:!0,models:["microsoft/phi-3-mini-128k-instruct","meta/llama3-70b-instruct","meta/llama3-8b-instruct","mistralai/mixtral-8x22b-v0.1","mistralai/mistral-large","mistralai/mistral-7b-instruct-v0.2","google/gemma-7b","google/gemma-2b","google/codegemma-7b","google/recurrentgemma-2b","meta/codellama-70b","meta/llama2-70b"]},{name:"Cohere",link:"cohere",editable:!0,models:["command-r-plus","command-r","command","command-light"]},{name:"Vertex",link:"vertex",editable:!0,models:["llama3-8b-hf","llama3-8b-chat-hf","llama3-70b-hf","llama3-70b-chat-hf","gemini-pro","gemini-1.0-pro","gemini-1.5-pro-latest","gemini-ultra","gemini-nano"]},{name:"Google AI Studio",link:"googleaistudio",editable:!0,models:["gemini-pro","gemini-1.0-pro","gemini-1.5-pro-latest","gemini-ultra","gemini-nano","chat-bison-001"]},{name:"Ollama",link:"ollama",editable:!0,models:["phi3","llama3:70b","llama3:8b","command-r-plus","command-r","codegemma","gemma:7b","gemma:2b","dbrx","mistral","mixtral","llama2","codellama","phi","deepseek-coder","starcoder2","dolphincoder","dolphin-mixtral","starling-lm","llama2-uncensored"],autocompleteModels:["codegpt/deepseek-coder-1.3b-typescript","deepseek-coder:base","llama3:instruct","llama3:70b-instruct","codegemma:instruct","dbrx:instruct","codegpt/replit-code-v1_5-3b"]},{name:"Fireworks AI",link:"fireworksai",editable:!0,models:["llama-v3-70b-instruct","llama-v2-7b-chat","llama-v2-70b-chat","mixtral-8x22b-instruct","mixtral-8x7b","gemma-7b-it","dbrx-instruct","zephyr-7b-beta"]},{name:"Mistral",link:"mistral",editable:!0,models:["mistral-large-latest","mistral-medium-latest","mistral-small-latest","mistral-tiny","open-mistral-7b","open-mixtral-8x7b","open-mixtral-8x22b"]},{name:"Huggingface",link:"huggingface",editable:!0,models:["OpenAssistant/oasst-sft-4-pythia-12b-epoch-3.5","mistralai/Mistral-7B-Instruct-v0.1","mistralai/Mixtral-8x7B-Instruct-v0.1"]},{name:"Bedrock",link:"bedrock",editable:!0,models:["claude-3-sonnet","claude-v2","claude-v2.1","claude-v1","claude-instant"]},{name:"Perplexity",link:"perplexity",editable:!0,models:["llama-3-8b-instruct","llama-3-70b-instruct","llama-2-70b-chat","codellama-34b-instruct","codellama-70b-instruct","mistral-7b-instruct","mixtral-8x7b-instruct","pplx-7b-chat","pplx-70b-chat","pplx-7b-online","pplx-70b-online","sonar-small-chat","sonar-small-online","sonar-medium-chat","sonar-medium-online"]},{name:"LM Studio",link:"lmstudio",models:["Not required"]},{name:"Groq",link:"groq",models:["llama3-70b-8192","llama3-8b-8192","llama2-70b-4096","mixtral-8x7b-32768","gemma-7b-it"]},{name:"Custom",link:"custom",editable:!0,models:[]},{id:"CodeGPT Enterprise",name:"CodeGPT Enterprise",link:"codegptenterprise",agents:!0,models:["gpt-3.5-turbo","GPT-4"],autocompleteModels:["Plus"]}];var en=t(84573),el=t(76358),ei=t(80842),eo=t(68906),er=t(84380),ec=t(21455),ed=t(1435),em=t(99863),eu=t(56149),ep=t(23209),eh=t(85490),eg=t(8127),ex=t(7526),ev=t(62632),ef=t(93502),eb=t(35063),ej=t(52006),ek=t(15619),ey=t(33140),eN=t(92513),ew=e=>(0,s.jsxs)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,viewBox:"0 0 301.9 40",children:[(0,s.jsx)("path",{d:"M40,40V32H8V8H40V0H8A8,8,0,0,0,0,8V32a8,8,0,0,0,8,8Z"}),(0,s.jsx)("path",{d:"M76,40a8,8,0,0,0,8-8V8a8,8,0,0,0-8-8H52a8,8,0,0,0-8,8V32a8,8,0,0,0,8,8ZM52,8H76V32H52Z"}),(0,s.jsx)("path",{d:"M119.93,40a8,8,0,0,0,8-8V8a8,8,0,0,0-8-8H88V40ZM96,8h24V32H96Z"}),(0,s.jsx)("path",{d:"M171.91,0h-32a8,8,0,0,0-8,8V32a8,8,0,0,0,8,8h32V32h-32V24h32V16h-32V8h32Z"}),(0,s.jsx)("path",{d:"M215.9,0h-32a8,8,0,0,0-8,8V32a8,8,0,0,0,8,8h24a8,8,0,0,0,8-8V16h-24v8h16v8h-24V8h32Z"}),(0,s.jsx)("path",{d:"M251.9,0h-32V40h8V24h24a8,8,0,0,0,8-8V8A8,8,0,0,0,251.9,0Zm-24,16V8h24v8Z"}),(0,s.jsx)("path",{d:"M301.9,0h-40V8h16V40h8V8h16Z"})]}),eC=t(20666);function eP(e){var a,t,r,c,d,h,g,x,v,f,b;let{isLoading:j,clearChat:w,selectedModel:P}=e,{currentProviderModel:z,setCurrentProviderModel:M}=(0,l.o)(),O=(0,_.U)(e=>e.setOpen),{selectedProvider:I,setSelectedProvider:S,isPopoverOpen:Z,setIsPopoverOpen:V,isProviderSelectOpen:F,setIsProviderSelectOpen:G}=(0,l.Y)(),{agents:E,mutate:D,isLoading:K}=function(){let e=(0,l.Y)(e=>e.selectedProvider),a=(0,i.usePathname)().split("/")[1],{data:t,mutate:s,isLoading:n,isValidating:r}=(0,o.ZP)("/api/agents/",()=>ea({provider:e,port:a}),{shouldRetryOnError:!1,errorRetryCount:0,revalidateOnFocus:!1,refreshInterval:0});return{agents:t,isLoading:n||r,mutate:s}}(),{isConnected:Y}=(0,A.T)(),q=null===(a=es.find(e=>e.link===I))||void 0===a?void 0:a.models.map(e=>({label:e,value:e})),U=(null==E?void 0:E.agents)?null===(t=E.agents)||void 0===t?void 0:t.map(e=>({label:e.name,value:e.id,image:e.image,description:e.description})):[],W=(null==E?void 0:E.marketplace)?null==E?void 0:E.marketplace.map(e=>({label:e.name,value:e.id,image:e.image,description:e.description})):[],B=null===(r=es.find(e=>e.link===I))||void 0===r?void 0:r.editable,X=null!==(v=null===(c=es.find(e=>e.link===I))||void 0===c?void 0:c.agents)&&void 0!==v&&v,$=C[I],Q=e=>{var a,t,s,n,l,i,o,r;let{model:c,newProvider:d,closePopover:m}=e,u=[...(null==q?void 0:q.length)?q:[],...U,...W].find(e=>e.label===c),p=null!==(n=null!==(s=null==u?void 0:u.value)&&void 0!==s?s:c)&&void 0!==n?n:null===(a=z[d])||void 0===a?void 0:a.id,h=null!==(i=null!==(l=null==u?void 0:u.label)&&void 0!==l?l:c)&&void 0!==i?i:null===(t=z[d])||void 0===t?void 0:t.label;(!p||""===p&&B)&&(h=p=null!==(r=null===(o=es.find(e=>e.link===d))||void 0===o?void 0:o.models[0])&&void 0!==r?r:"");let g=!!W.find(e=>e.label===c);(p||""===p)&&M(null!=d?d:I,{label:h,id:p,fromMarketplace:g,image:null==u?void 0:u.image,description:null==u?void 0:u.description}),m&&V(!1)},eP=e=>{let a=e.currentTarget.value;("v"===e.key.toLowerCase()||"KeyV"===e.code)&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),(0,p.M1)().then(t=>{let{selectionStart:s,selectionEnd:n}=e.target,l=a.substring(0,null!=s?s:a.length)+t+a.substring(null!=n?n:a.length);M(I,{label:l,id:l,fromMarketplace:!!W.find(e=>e.label===t.trim()),image:"",description:""})}))},eA=m(e=>e.setOpen),e_=(0,et.w)(e=>e.setOpen),eT=(0,i.usePathname)().split("/")[1],[ez,eM]=(0,L.useState)(!1),eO="codegptplusbeta"===I;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{id:"sidebar",className:"".concat(ez?"visible z-50":"invisible -z-50"," fixed left-0 top-0 h-screen w-screen transition-all"),children:[(0,s.jsx)("div",{className:"".concat(ez?"opacity-100":"opacity-0"," absolute left-0 top-0 z-10 h-screen w-screen cursor-pointer bg-black/50 transition-opacity"),onClick:()=>eM(!1)}),(0,s.jsxs)("div",{id:"sidebar-content",className:"".concat(ez?"opacity-100":"-translate-x-full opacity-50"," absolute left-0 top-0 z-20 grid h-full w-full max-w-sm grid-flow-row grid-cols-1 grid-rows-[auto_1fr] content-between bg-white shadow-lg transition-all ease-in-out dark:bg-black dark:shadow-none"),children:[(0,s.jsxs)("header",{className:"grid grid-flow-col items-center justify-between p-3",children:[(0,s.jsx)(ew,{className:"mr-auto h-3"}),(0,s.jsx)(y.A,{startContent:(0,s.jsx)(en.Z,{className:"w-5"}),onPress:()=>eM(!1),isIconOnly:!0})]}),(0,s.jsxs)("div",{className:"items-between grid content-between p-3",children:[(0,s.jsxs)(ep.X,{variant:"flat","aria-label":"Menu",children:[(0,s.jsxs)(eh.y,{title:"Tools",showDivider:!0,children:[(0,s.jsx)(eg.R,{textValue:"Chat",onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuChat"})},children:(0,s.jsx)(ee.Z,{href:"/",children:"Chat"})},"chat"),(0,s.jsx)(eg.R,{textValue:"AI Agents Marketplace",onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuMarketplace"})},children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(ee.Z,{href:"/assistants",children:"AI Agents Marketplace"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(H.J,{src:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/4397e3b4-9788-448e-bfcd-e7d3eb383b9d.png",alt:"agent",className:"z-[8] w-5 translate-x-4 shadow-md"}),(0,s.jsx)(H.J,{src:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/96aa351c-992a-433a-88d6-1440504d9959.jpg",alt:"agent",className:"z-[9] w-5 translate-x-2 shadow-md"}),(0,s.jsx)(H.J,{src:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/3672fa8d-c20d-4f98-ac75-76ffad1d683a.png",alt:"agent",className:"z-10 w-5 shadow-md"})]})]})},"AI Agents Marketplace"),(0,s.jsx)(eg.R,{onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuReactSandbox"}),(0,p.Yo)("http://localhost:54112/".concat(eT,"/vision"))},children:"React Sandbox"},"vision")]}),(0,s.jsxs)(eh.y,{title:"Help",showDivider:!0,children:[(0,s.jsx)(eg.R,{onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuExtDoc"}),(0,p.os)("https://docs.codegpt.co/docs/intro")},children:"Extension Docs"},"extDocsLink"),(0,s.jsx)(eg.R,{onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuApiDoc"}),(0,p.os)("https://developers.codegpt.co/reference/agents-beta")},children:"API Docs"},"apiDocsLink"),(0,s.jsx)(eg.R,{onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuReportIssue"}),(0,p.Yo)("https://github.com/davila7/code-gpt-docs/issues")},children:"Report an issue"},"issues")]}),(0,s.jsxs)(eh.y,{title:"Settings",className:"mt-auto",children:[(0,s.jsx)(eg.R,{onClick:()=>{(0,u.q)({eventName:"clickOver",target:"optionMenuAutocomplete"}),e_(!0)},children:"Autocomplete"},"autocomplete"),(0,s.jsxs)(eg.R,{classNames:{title:"flex justify-between"},textValue:"Theme",children:[(0,s.jsx)("span",{children:"Theme"}),(0,s.jsx)(eC.O,{})]},"theme")]})]}),(0,s.jsxs)("div",{className:"mt-auto flex items-center justify-center gap-2 pl-3",children:[(0,s.jsx)("span",{className:"text-sm",children:"Version"}),(0,s.jsx)(R.z,{variant:"bordered",size:"sm",children:"v3.2.6"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-flow-col items-center justify-between px-3 py-2",children:[(0,s.jsxs)("div",{className:"col-span-2 flex w-full items-center gap-2",children:[(0,s.jsx)(y.A,{startContent:ez?(0,s.jsx)(en.Z,{className:"w-5"}):(0,s.jsx)(el.Z,{className:"w-5"}),onPress:()=>{ez||(0,u.q)({eventName:"clickOver",target:"openMenu"}),eM(!ez)},isIconOnly:!0,variant:"bordered",className:"border"},"settings"),""!==P&&(0,s.jsx)(y.A,{isIconOnly:!0,startContent:(0,s.jsx)(ei.Z,{className:"w-5"}),variant:"bordered",className:"border",onClick:()=>{w(),M(I,{label:"",id:"",fromMarketplace:!1,image:"",description:""})}}),(0,s.jsxs)(ex.j,{showArrow:!0,placement:"bottom",backdrop:"opaque",isOpen:Z,onOpenChange:e=>{e&&(0,u.q)({eventName:"clickOver",target:"openProvider"}),V(e)},classNames:{content:"w-full w-[28rem]"},children:[(0,s.jsx)(ev.b,{children:(0,s.jsx)(y.A,{className:"w-full max-w-sm content-start items-center justify-start border",variant:"bordered",isDisabled:j,startContent:(0,s.jsx)(n.T,{provider:I,className:"aspect-square shrink-0 rounded-full",width:20,height:20}),endContent:(0,s.jsx)(eo.Z,{className:"w-5"}),children:(0,s.jsx)("div",{className:"grid justify-start text-start",children:(0,s.jsx)("span",{className:"text-small capitalize",children:(null===(d=z[I])||void 0===d?void 0:d.label.length)>0?null===(h=z[I])||void 0===h?void 0:h.label:"Select a model"})})})}),(0,s.jsxs)(ef.g,{className:"grid grid-cols-1 gap-4 p-3",children:[(0,s.jsx)(eb.g,{label:"Providers",placeholder:"Select an provider",selectedKeys:[null===(g=es.find(e=>e.link===I))||void 0===g?void 0:g.name],className:"w-full",fullWidth:!0,isOpen:F,onChange:e=>{var a,t,s;let n=e.target.value;if(!n)return;let l=es.find(e=>e.name===n),i=null!==(a=null==l?void 0:l.link)&&void 0!==a?a:"";Q({newProvider:i}),S(i),k.Z.post("/".concat(eT,"/api/actions"),{action:"updateConfig",key:"CodeGPT.apiKey",value:null!==(s=null!==(t=null==l?void 0:l.id)&&void 0!==t?t:null==l?void 0:l.name)&&void 0!==s?s:""}),(null==l?void 0:l.agents)&&setTimeout(()=>{D()},1e3)},onOpenChange:e=>G(e),children:es.map(e=>(0,s.jsx)(eg.R,{value:e.link,textValue:e.name,startContent:(0,s.jsx)(ej.h,{src:"",className:"size-10 border-0 bg-content2",fallback:(0,s.jsx)(n.T,{provider:e.link,className:"border-0",width:32,height:32})}),children:(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"text-small",children:e.name})})},e.name))}),Y||"codegptplusbeta"===I?(0,s.jsxs)(ek.d,{allowsCustomValue:B,label:"Select or search a model",className:"w-full",fullWidth:!0,allowsEmptyCollection:!1,inputValue:null!==(f=null===(x=z[I])||void 0===x?void 0:x.label)&&void 0!==f?f:"",onInputChange:e=>{Q({model:e,closePopover:!1})},onSelectionChange:()=>V(!1),onOpenChange:()=>D(),onKeyDown:e=>eP(e),placeholder:"Type the model name",startContent:(0,s.jsx)(er.Z,{className:"w-5"}),disabledKeys:["loader"],shouldCloseOnBlur:!1,listboxProps:{bottomContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.j,{}),(0,s.jsxs)(ey.w,{onPress:()=>{(0,u.q)({eventName:"clickOver",target:"createNewAgent"}),(0,p.Yo)("https://app.codegpt.co/")},shadow:"none",fullWidth:!0,isPressable:!0,className:"grid grid-flow-col content-start items-center justify-between gap-2 border-0 p-3 text-start shadow-none",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"grid h-4 w-4 items-center justify-center rounded-full border bg-content4/20",children:(0,s.jsx)(eN.Z,{className:"h-3 w-3"})}),(0,s.jsx)("p",{children:(0,s.jsxs)("span",{className:"",children:["Create a ",(0,s.jsx)("strong",{className:"capitalize",children:"New AI Agent"})]})})]}),(0,s.jsx)(R.z,{variant:"flat",color:"primary",size:"sm",children:"Plus"})]})]})},children:[(0,s.jsx)(eh.y,{...X&&(U.length>0||W.length>0)?{showDivider:!0}:{},title:(null==q?void 0:q.length)?"Models":"",children:null!==(b=null==q?void 0:q.map(e=>"GPT-4"===e.label&&eO&&!Y?(0,s.jsx)(eg.R,{value:e.value,onClick:()=>{V(!1),O(!0)},children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("span",{children:e.label}),(0,s.jsx)("span",{className:"text-primary-500",children:"login required"})]})},e.value):(0,s.jsx)(eg.R,{value:e.value,children:e.label},e.value)))&&void 0!==b?b:[]}),K&&0===U.length&&0===W.length&&(0,s.jsx)(eh.y,{title:"Agents",children:(0,s.jsx)(eg.R,{children:(0,s.jsx)(y.A,{isLoading:!0,fullWidth:!0,variant:"bordered",children:"Loading Agents"})},"loader")}),W.length&&(0,s.jsx)(eh.y,{title:"Marketplace Agents",showDivider:!0,children:null==W?void 0:W.map(e=>(0,s.jsx)(eg.R,{value:e.value,children:e.label},e.value))}),U.length&&(0,s.jsx)(eh.y,{title:"Agents",children:null==U?void 0:U.map(e=>(0,s.jsx)(eg.R,{value:e.value,children:e.label},e.value))})]}):(0,s.jsxs)("p",{className:"flex items-start gap-1 leading-4",children:[(0,s.jsx)(ec.Z,{className:"w-4"}),(0,s.jsxs)("span",{children:["Set your"," ",(0,s.jsx)("span",{className:"capitalize",children:I.includes("codegpt")?"CodeGPT account":"".concat(I," API key")})," ","to enable the model selection"]})]}),!$.disableConnection&&(0,s.jsxs)(s.Fragment,{children:[Y&&(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("small",{className:"flex gap-1 text-xs text-default-500",children:[(0,s.jsx)(ed.Z,{className:"w-3 text-default-500"}),"Status"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("small",{className:"text-success-500",style:{fontSize:"10px"},children:"●"}),(0,s.jsx)("span",{className:"text-sm",children:"Connected"})]})]}),(0,s.jsx)(y.A,{startContent:(0,s.jsx)(T.Z,{className:"w-4 shrink-0"}),onPress:()=>{O(!0),V(!1)},children:Y?"Edit Connection":"Set Connection"},"setConnection")]})]})]}),(0,s.jsx)(J.e,{content:"Chat Settings",placement:"bottom",children:(0,s.jsx)(y.A,{startContent:(0,s.jsx)(em.Z,{className:"w-5"}),onPress:()=>{(0,u.q)({eventName:"clickOver",target:"openProviderSettings"}),eA(!0)},isIconOnly:!0,variant:"bordered",className:"border"},"settings")})]}),(0,s.jsx)(J.e,{content:"Open in browser",placement:"bottom",children:(0,s.jsx)(y.A,{startContent:(0,s.jsx)(eu.Z,{className:"w-5"}),onPress:()=>{(0,u.q)({eventName:"clickOver",target:"openFullscreen"}),(0,p.Yo)("http://localhost:54112/".concat(eT))},isIconOnly:!0,variant:"bordered",className:"border"},"openInBrowser")})]})]})}let eA=e=>(0,s.jsx)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...e,children:(0,s.jsx)("polyline",{points:"20 6 9 17 4 12"})}),e_=async e=>{let{port:a}=e;return new Promise(async e=>{setTimeout(async()=>{let t={isEnabled:!1,maxTokens:500,provider:"CodeGPT Plus",model:"Plus",delay:1200},s=await fetch("".concat(a,"/api/autocomplete/config")).then(e=>e.json()).catch(()=>t);e({...t,...s})},500)})};var eT=t(96291),ez=t(7893),eM=t(67422);let eO=(0,eT.tv)({slots:{base:"border-default hover:bg-default-200",content:"text-default-500"},variants:{isSelected:{true:{base:"border-primary bg-primary hover:bg-primary-500 hover:border-primary-500",content:"text-primary-foreground pl-1"}},isFocusVisible:{true:{base:"outline-none ring-2 ring-focus ring-offset-2 ring-offset-background"}}}}),eI=es.filter(e=>{var a;return null==e?void 0:null===(a=e.autocompleteModels)||void 0===a?void 0:a.length}).flatMap(e=>{var a;return null==e?void 0:null===(a=e.autocompleteModels)||void 0===a?void 0:a.map(a=>({provider:e.name,model:a,link:e.link}))});function eS(){let{configuration:e,mutate:a}=function(){let e=(0,i.usePathname)().split("/")[1],{data:a,mutate:t,isLoading:s,isValidating:n}=(0,o.ZP)("/api/autocomplete/config",()=>e_({port:e}),{shouldRetryOnError:!1,errorRetryCount:0,revalidateOnFocus:!1,refreshInterval:5e3});return{configuration:a,isLoading:null!=s?s:n,mutate:()=>new Promise(e=>{setTimeout(()=>{t().then(a=>{e(a)})},300)})}}(),t=(0,i.usePathname)().split("/")[1],{children:l,isFocusVisible:r,getBaseProps:c,getLabelProps:d,getInputProps:m}=(0,ez.O)({onValueChange:e=>C(e,"Enabled")}),{ref:u,...p}=d(),f=eO({isSelected:null==e?void 0:e.isEnabled,isFocusVisible:r}),{isOpen:y,setOpen:w}=(0,et.w)(),C=async(e,s)=>{"Model"===s?await k.Z.post("/".concat(t,"/api/actions"),{action:"setAutocomplete".concat(s),value:e.currentKey}):await k.Z.post("/".concat(t,"/api/actions"),{action:"setAutocomplete".concat(s),value:e}),a()};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.R,{isOpen:y,placement:"top",scrollBehavior:"inside",classNames:{closeButton:"bg-white/5 active:bg-white/10 h-10 w-10 p-0 flex items-center justify-center rounded-full absolute top-3 right-6"},onOpenChange:async()=>{w(!1)},children:(0,s.jsx)(g.A,{children:()=>{var a,t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.k,{className:"flex flex-row items-center gap-4 font-normal",children:[(0,s.jsx)("div",{className:"size-fit",children:(0,s.jsx)(n.T,{provider:"codegptplusbeta",width:40,height:40,className:"rounded-lg border"})}),(0,s.jsxs)("div",{className:"flex select-none flex-col",children:[(0,s.jsx)("span",{className:"pt-1",children:"Autocomplete Settings"}),(0,s.jsx)("span",{className:"text-small text-default-500",children:"Ensure to properly configure the parameters here"})]})]}),(0,s.jsx)(N.j,{}),(0,s.jsxs)(v.I,{className:"mt-1",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("label",{...c(),children:[(0,s.jsx)(eM.T,{children:(0,s.jsx)("input",{...m()})}),(0,s.jsxs)(R.z,{classNames:{base:f.base(),content:f.content()},color:"primary",startContent:(null==e?void 0:e.isEnabled)?(0,s.jsx)(eA,{className:"ml-1"}):null,variant:"faded",...p,children:["Autocomplete ",l||((null==e?void 0:e.isEnabled)?"ON":"OFF")]})]})}),(0,s.jsx)(eb.g,{label:"Models",placeholder:"Select an model",selectedKeys:["".concat(null==e?void 0:e.provider," - ").concat(null==e?void 0:e.model)],className:"w-full",fullWidth:!0,onSelectionChange:e=>C(e,"Model"),children:eI.map(e=>(0,s.jsx)(eg.R,{value:"".concat(e.provider," - ").concat(e.model),textValue:e.model,startContent:(0,s.jsx)(ej.h,{src:"",className:"size-10 border-0 bg-content2",fallback:(0,s.jsx)(n.T,{provider:e.link,className:"border-0",width:32,height:32})}),children:(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"text-small",children:e.model})})},"".concat(e.provider," - ").concat(e.model)))}),(0,s.jsx)(b.L,{color:"primary",maxValue:6e3,minValue:300,step:10,defaultValue:null!==(a=null==e?void 0:e.maxTokens)&&void 0!==a?a:500,onChangeEnd:e=>C(Number(e),"MaxTokens"),label:"Max Tokens","aria-label":"Max Tokens",className:"max-w-md"}),(0,s.jsx)(b.L,{color:"primary",maxValue:1e4,minValue:0,step:10,defaultValue:null!==(t=null==e?void 0:e.delay)&&void 0!==t?t:1200,onChangeEnd:e=>C(Number(e),"Delay"),label:"Suggestion Delay","aria-label":"Suggestion Delay",className:"max-w-md"})]}),(0,s.jsx)(j.R,{})]})}})})})}var eZ=t(83337),eR=t(89896),eL=t(43314),eV=t(53194),eF=t(99837);function eG(e){let{name:a,description:t,image:i}=e,o=(0,l.Y)(e=>e.selectedProvider);return(0,s.jsxs)("div",{className:"animate-in animate-in-to-middle m-auto grid w-full max-w-md translate-y-full items-center justify-center gap-4 text-center",children:[i?(0,s.jsx)(ej.h,{src:i,alt:"agent",radius:"full",size:"lg",className:"mx-auto bg-content2"}):(0,s.jsx)(n.T,{provider:o,className:"mx-auto h-16 w-16 rounded-full bg-content2"}),(0,s.jsxs)("div",{className:"grid items-center justify-center",children:[(0,s.jsx)("p",{className:"text-2xl capitalize",children:a}),t&&(0,s.jsx)("p",{className:"hyphens-none text-center text-lg text-default-500",children:t})]})]})}let eE=[{id:"gpt-3.5-turbo",name:"Code Assistant",description:"GPT 3.5 is a powerful language model that can generate human-like text.",image:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/3672fa8d-c20d-4f98-ac75-76ffad1d683a.png"},{id:"4397e3b4-9788-448e-bfcd-e7d3eb383b9d",name:"Python 3.10 Agent",description:"A comprehensive source for Python programming guidance",image:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/4397e3b4-9788-448e-bfcd-e7d3eb383b9d.png"},{id:"9319408f-a23d-4c28-adcd-5309a20b2a10",name:"JavaScript Agent",description:"A thorough and authoritative source for all JavaScript-related queries.",image:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/9319408f-a23d-4c28-adcd-5309a20b2a10.png"},{id:"96aa351c-992a-433a-88d6-1440504d9959",name:"Web Designer Agent",description:"Ask an expert to build your landing page.",image:"https://rroxuvsrsdbxacokprau.supabase.co/storage/v1/object/public/agents/f1658deb-103a-4010-acdc-1ba9e8e969ed/96aa351c-992a-433a-88d6-1440504d9959.jpg"}];function eD(){let{setCurrentProviderModel:e,currentProviderModel:a}=(0,l.o)(),t=(0,l.Y)(e=>e.selectedProvider),n=(0,l.Y)(e=>e.setSelectedProvider),o=(0,i.usePathname)().split("/")[1],r=a[t];return(null==r?void 0:r.id)?(0,s.jsx)(eG,{name:r.label,image:r.image,description:r.description}):(0,s.jsx)("div",{className:"grid h-full w-full",children:(0,s.jsxs)("article",{className:"m-auto grid items-center justify-center gap-4 hyphens-none px-3 text-center leading-tight",children:[(0,s.jsx)(ew,{className:"mx-auto mt-3 h-6"}),(0,s.jsx)("h2",{children:"Try our AI Agents"}),(0,s.jsxs)("p",{className:"mx-auto grid max-w-md gap-2",children:[eE.map((a,t)=>(0,s.jsx)(y.A,{className:"justify-start px-4",size:"lg",onPress:()=>{e("codegptplusbeta",{label:a.name,id:a.id,fromMarketplace:!0,image:a.image,description:a.description}),n("codegptplusbeta"),(0,W.$)()},startContent:(0,s.jsx)(ej.h,{src:a.image,alt:a.name,size:"sm"}),children:a.name},"agent_".concat(t))),(0,s.jsx)(y.A,{variant:"bordered",className:"border",onPress:()=>{n("codegptplusbeta"),(0,W.$)(),k.Z.post("/".concat(o,"/api/actions"),{action:"changeIframeUrl",text:"http://localhost:54112/".concat(o,"/assistants")})},children:"View More"})]})]})})}function eK(){let{userData:e}=(0,q.v)(),a=(0,l.Y)(e=>e.selectedProvider),t=(null==e?void 0:e.dailyUsage)||0,n=(null==e?void 0:e.dailyMaxUsage)||-1;return -1===n||"codegptplusbeta"!==a?null:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"cta flex items-center justify-between px-3 pt-1",children:e.loggedIn?(0,s.jsxs)(s.Fragment,{children:["free"===e.plan.toLowerCase()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"grid max-w-full gap-1 pr-6",children:[-1!==n&&(0,s.jsxs)("span",{className:"hidden text-xs text-default-500",children:[n-t," of ",n," Daily Free Plan Interactions"]}),(0,s.jsx)("span",{className:"hyphens-none pr-6 text-sm",children:"Try out CodeGPT Plus for free and enjoy 50 daily interactions for 10 days"})]}),(0,s.jsx)(y.A,{variant:"bordered",color:"primary",className:"border",size:"sm",onPress:()=>{(0,p.Yo)("https://app.codegpt.co/en/plans"),(0,u.q)({eventName:"ads",object:"adOnInputText",message:"Try out CodeGPT Plus for free and enjoy 50 daily interactions for 10 days"})},children:"Upgrade"})]}),"free trial"===e.plan.toLowerCase()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"grid max-w-full gap-1 pr-6",children:[-1!==n&&(0,s.jsxs)("span",{className:"hidden text-xs text-default-500",children:[n-t," of ",n," Daily Free Plan Interactions"]}),(0,s.jsx)("span",{className:"text-sm",children:"Unlock unlimited interactions and full features with CodeGPT Plus"})]}),(0,s.jsx)(y.A,{variant:"bordered",color:"primary",className:"border",size:"sm",onPress:()=>{(0,p.Yo)("https://app.codegpt.co/en/plans"),(0,u.q)({eventName:"ads",object:"adOnInputText",message:"Unlock unlimited interactions and full features with CodeGPT Plus"})},children:"Upgrade"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"grid max-w-full gap-1 pr-6",children:[-1!==n?(0,s.jsxs)("span",{className:"hidden text-xs text-default-500",children:[n-t," of ",n," Daily Free Interactions"]}):(0,s.jsxs)("span",{className:"flex gap-1 text-xs text-default-500",children:[(0,s.jsx)(Y.LPM,{className:"h-4 w-4 shrink-0"}),"Canceled Plan"]}),(0,s.jsx)("span",{className:"text-xs text-default-500",children:"No credit card required"}),(0,s.jsx)("span",{className:"text-sm",children:"Sign In and get 15 Free Daily Interactions"})]}),(0,s.jsx)(y.A,{variant:"bordered",color:"primary",className:"border",size:"sm",onPress:()=>{(0,p.Yo)("https://app.codegpt.co/signup?source=vscode"),(0,u.q)({eventName:"ads",object:"adOnInputText",message:"Sign In and get 15 Free Daily Interactions"})},children:"Sign Up"})]})})})}var eY=t(29047),eq=t(64728),eU=t(68292),eW=t(52022);function eB(e){let{label:a}=e,{userData:t}=(0,q.v)(),n=(0,l.Y)(e=>e.selectedProvider),i=(null==t?void 0:t.dailyUsage)||0,o=(null==t?void 0:t.dailyMaxUsage)||-1;return -1===o||"codegptplusbeta"!==n?null:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(R.z,{variant:"dot",size:"sm",classNames:{base:"border border-content2 bg-content2 text-default-500"},color:0===i?"success":i/o>.6&&i/o<1?"warning":i===o?"danger":"success",children:(0,s.jsx)("div",{children:(0,s.jsxs)("p",{children:[i," of ",o]})})}),i===o&&!t.loggedIn&&(0,s.jsxs)("div",{className:"flex items-center gap-1 rounded-xl text-sm",children:[(0,s.jsx)("span",{className:"cursor-pointer text-sm text-primary underline",onClick:()=>{(0,p.Yo)("https://app.codegpt.co/signup"),(0,u.q)({eventName:"ads",object:"adOnInputText",message:"maxInteractions widget"})},children:"Sign Up"}),(0,s.jsx)("p",{className:"text-default-500",children:(0,s.jsx)("span",{children:"to get more interactions"})})]}),i>=o&&t.loggedIn&&(0,s.jsxs)("div",{className:"flex items-center gap-1 rounded-xl text-sm",children:[(0,s.jsx)("span",{className:"cursor-pointer text-sm text-primary underline",onClick:()=>{(0,p.Yo)("https://app.codegpt.co/en/plans"),(0,u.q)({eventName:"ads",object:"adOnInputText",message:"maxInteractions"})},children:"Upgrade your plan"}),(0,s.jsx)("p",{className:"text-default-500",children:(0,s.jsx)("span",{children:"to get unlimited interactions"})})]})]})}var eH=e=>{var a,t,i,o,r,c;let{role:d,content:m,index:u,isLastMessage:p,isLoading:h,providerState:g,modelHistory:x,reload:v}=e,{renderMessageContent:f}=(0,eY.Z)(),{userData:b}=(0,q.v)(),{currentProviderModel:j}=(0,l.o)();return(0,s.jsx)(s.Fragment,{children:(e=>{let{role:a,username:t,content:l,avatar:i,loader:o}=e;return(0,s.jsxs)("div",{className:"card mx-auto grid w-full max-w-xl grid-cols-1 items-start justify-start gap-2 place-self-stretch text-pretty px-3 text-foreground sm:px-0",children:[(0,s.jsxs)("div",{className:"grid w-full grid-flow-col items-center justify-start gap-2",children:["assistant"===a?(0,s.jsx)(n.T,{className:"shrink-0 overflow-hidden rounded-full",provider:g,width:24,height:24}):(0,s.jsx)(ej.h,{src:i,fallback:(0,s.jsx)(eW.Z,{size:16}),radius:"full",size:"sm",className:"h-[24px] w-[24px] shrink-0 bg-indigo-400"}),(0,s.jsx)("p",{className:"text-opacity-80",children:t})]}),(0,s.jsx)("div",{children:l?f(l):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eU.X,{className:"mb-2 h-4 w-full rounded-lg"}),(0,s.jsx)(eU.X,{className:"mb-2 h-4 w-[85%] rounded-lg"})]})}),(0,s.jsx)("footer",{className:"flex gap-2",children:p&&"assistant"===a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eB,{}),!h&&(0,s.jsx)(y.A,{onPress:()=>v(),className:"group:hover:bg-transparent dark:group:hover:bg-transparent w-fit bg-transparent p-0 text-default-500 hover:bg-transparent hover:text-default-900 group-hover:bg-transparent dark:bg-transparent dark:hover:bg-transparent dark:group-hover:bg-transparent",variant:"light",size:"sm",isLoading:h,startContent:!h&&(0,s.jsx)(eq.Z,{className:"w-4 shrink-0"}),children:"Reload"})]})})]})})("assistant"===d?h&&p&&"assistant"===d&&!m?{role:d,username:"CodeGPT ".concat((null==x?void 0:null===(a=x[g])||void 0===a?void 0:a[u])||(null===(t=j[g])||void 0===t?void 0:t.label)||""),reload:v}:{role:d,content:m,username:"CodeGPT ".concat((null==x?void 0:null===(i=x[g])||void 0===i?void 0:i[u])||(null===(o=j[g])||void 0===o?void 0:o.label)||""),avatar:(0,s.jsx)(n.T,{className:"overflow-hidden rounded-full",provider:g,width:24,height:24})}:{role:d,content:m,username:b.loggedIn&&null!==(c=null!==(r=b.user.username)&&void 0!==r?r:b.user.fullName)&&void 0!==c?c:"User",avatar:b.loggedIn?b.user.avatarUrl:""})})};let eJ=[{label:"Explain selected code",id:"explainCode"},{label:"Refactor selected code",id:"refactorCode"},{label:"Document selected code",id:"documentCode"},{label:"Fix a bug in the selected code",id:"fixCode"}];function eX(){var e,a,t,n,o;let{selectedProvider:r}=(0,l.Y)(),{setOpen:d}=(0,_.U)(),{currentProviderModel:m}=(0,l.o)(),p=null===(e=m[r])||void 0===e?void 0:e.id,h=null===(a=m[r])||void 0===a?void 0:a.fromMarketplace,[g,x]=(0,L.useState)({}),{isLoading:v}=c(),f=(0,eZ.Z)(),{image:b,setImage:j,setShowTooltip:k}=U(),N=(0,i.usePathname)().split("/")[1],{messages:w,setMessages:C,input:A,handleInputChange:T,handleSubmit:z,setInput:M,isLoading:O,stop:I,reload:S,append:Z}=(0,eF.RJ)({api:"/".concat(N,"/api/").concat(r),headers:{"Content-Type":"application/json",...p?{model:p}:{},...h?{fromMarketplace:"true"}:{}},sendExtraMessageFields:["codegptplusbeta","ollama"].includes(r),onError:e=>{let a=e.message,t=500;try{var s,n;let l=JSON.parse(e.message);a=null!==(s=l.message)&&void 0!==s?s:a,t=null!==(n=Number(l.status))&&void 0!==n?n:t}catch(e){}401===t?d(!0):f({logo:r.toLowerCase(),title:"".concat(r.slice(0,1).toUpperCase()+r.slice(1)," Error"),description:null==a?void 0:a.replaceAll('"',""),footer:[{label:"Click here for more info about models.",link:"https://docs.codegpt.co/docs/category/ai-providers"}],ads:[..."codegptplus"!==r?[{label:"Prevent Errors. Gain instant access to AI Pro Models by trying CodeGPT Plus for free."}]:[]]})}}),R=(null===(t=w[w.length-1])||void 0===t?void 0:t.role)==="assistant",V=()=>{C([]),x(e=>({...e,[r]:{}}))},F=(0,L.useRef)(null),{inView:E}=(0,eV.S1)(F),D=null===(o=w[w.length-1])||void 0===o?void 0:null===(n=o.content)||void 0===n?void 0:n.length;return((0,L.useEffect)(()=>{if(F.current&&E){var e;null===(e=F.current)||void 0===e||e.scrollIntoView({behavior:"auto",block:"end"})}},[w.length,D,E,O]),r)?(0,s.jsxs)(s.Fragment,{children:[!v&&(0,s.jsx)(G,{},r),(0,s.jsx)(P,{}),(0,s.jsx)(eS,{}),(0,s.jsxs)("div",{className:"grid h-dvh min-h-dvh grid-cols-1 grid-rows-[auto_1fr_auto]",children:[(0,s.jsx)(eP,{clearChat:V,isLoading:O,selectedModel:p}),(0,s.jsxs)(eL.o,{hideScrollBar:!0,className:"markdown mx-auto size-full gap-6 overflow-y-auto px-4 pt-2 md:px-0 md:py-6",size:16,children:[w.length>0?(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[w.map((e,a)=>(0,s.jsx)(eH,{role:e.role,content:e.content,image:e.image,index:a,isLastMessage:a===w.length-1,isLoading:O,providerState:r,modelHistory:g,reload:S},"msg-".concat(a))),O&&!R&&(0,s.jsx)(eH,{role:"assistant",content:"",index:w.length,isLastMessage:!0,isLoading:!0,providerState:r,modelHistory:g,reload:S})]}):(0,s.jsx)(eD,{}),(0,s.jsx)("div",{style:{background:"transparent",width:"100%",height:"4px",marginTop:"1rem"},ref:F})]}),(0,s.jsxs)("footer",{className:"mx-auto grid w-full max-w-xl gap-1 px-2 pb-3 sm:px-0",children:[(0,s.jsx)(eK,{}),!p&&(0,s.jsx)(eL.o,{hideScrollBar:!0,orientation:"horizontal",className:"grid w-full max-w-full grid-flow-col gap-2",children:0===w.length&&eJ.map((e,a)=>(0,s.jsx)(y.A,{variant:"bordered",fullWidth:!0,className:"relative min-w-60 justify-between overflow-hidden text-ellipsis border text-start",endContent:(0,s.jsx)(eR.Z,{className:"h-4 w-4 shrink-0"}),onPress:()=>{(0,u.q)({eventName:"clickOver",target:e.id+"Button"}),Z({role:"user",content:e.label})},children:(0,s.jsx)("span",{className:"w-full overflow-hidden text-ellipsis",children:e.label})},"prompt_".concat(a)))}),(0,s.jsx)(Q,{onSubmit:e=>{var a;let t=null===(a=m[r])||void 0===a?void 0:a.label,s=w.length+1;if(x(e=>({...e,[r]:{...e[r],[s]:t}})),["codegptplusbeta","ollama"].includes(r)){if(e.preventDefault(),!A)return;let a=[...w];a.push({id:crypto.randomUUID(),role:"user",content:A,...b?{image:b}:{}}),M(""),C(a),k(!1),S().then(()=>j(""))}else z(e)},value:A,onChange:T,isLoading:O,stop:I,clearChat:V,append:Z})]})]})]}):null}},20666:function(e,a,t){"use strict";t.d(a,{O:function(){return d}});var s=t(57437),n=t(77439),l=t(12138),i=t(64554),o=t(60362),r=t(79512),c=t(2265);function d(){let[e,a]=(0,c.useState)(!1),{theme:t,setTheme:d}=(0,r.F)();return((0,c.useEffect)(()=>{a(!0)},[]),e)?(0,s.jsx)(o.i,{defaultSelected:"dark"===t,color:"secondary",size:"sm",startContent:(0,s.jsx)(l.Z,{}),endContent:(0,s.jsx)(i.Z,{}),onChange:()=>{(0,n.q)({eventName:"changeValue",target:"openMenuTheme",value:"dark"===t?"light":"dark"}),d("dark"===t?"light":"dark")},classNames:{base:"m-0",label:"m-0",wrapper:"m-0 border border-default-200"}}):null}},53898:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(57437),n=t(42126),l=t(87138),i=t(16463),o=t(2265);function r(e){let{href:a,children:t,props:r}=e,[c,d]=(0,o.useState)(!1),m=(0,i.usePathname)().split("/")[1];return((0,o.useEffect)(()=>{d(window.location!==window.parent.location)},[]),c)?(0,s.jsx)("div",{onClick:()=>n.Z.post("/".concat(m,"/api/actions"),{action:"changeIframeUrl",text:"http://localhost:54112/".concat(m).concat(a)}),...r,children:t}):(0,s.jsx)(l.default,{href:"http://localhost:54112/".concat(m).concat(a),...r,children:t})}},27701:function(e,a,t){"use strict";t.d(a,{w:function(){return s}});let s=(0,t(39099).Ue)(e=>({isOpen:!1,setOpen:a=>e(()=>({isOpen:a}))}))},77439:function(e,a,t){"use strict";t.d(a,{q:function(){return n}});var s=t(42126);let n=async e=>{let a=window.location.pathname.split("/")[1];return s.Z.post("/".concat(a,"/api/telemetry"),e)}}},function(e){e.O(0,[310,482,383,786,17,807,63,935,176,64,866,298,971,23,744],function(){return e(e.s=5926)}),_N_E=e.O()}]);